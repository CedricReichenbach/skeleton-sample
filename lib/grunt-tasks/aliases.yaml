default:
  - work

work:
  - prepare
  - build-dev
  - server

build-dev:
  - prepare
  - css-dev
  - markup-dev
  - js
  - assets-dev

build-prod:
  - css-prod
  - assets-prod

markup-dev:
  # - styleguideAssembler
  - pagesAssembler

markup-prod:
  - markup-dev

css-dev:
  - grunticon
  - compass
  - autoprefixer

css-prod:
  - css-dev
  - uncss
  - cssmin


js:
  - copy:vendorjs
  - copy:modulesjs
  - copy:js
  - requirejs
  # TODO: minification and optimization

assets-dev:
  - copy:fonts

assets-prod:
  - assets
  - imagemin

prepare:
  - clean # this cleans *generated*     files in dist/
  - copy:images
  - copy:meta
  - copy:fonts

server:
  - connect
  - watch
